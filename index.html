<!DOCTYPE HTML>
<html>
 <head>
  <link rel="stylesheet" href="//cdn.webix.com/edge/webix.css" type="text/css"> 
  <script src="//cdn.webix.com/edge/webix.js" type="text/javascript"></script>  
 </head>
 <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script>
        function readData(fileName, separator, callback) {
            $.get(fileName, function (fileContent) {
                var result = [];
                var textArray = fileContent.split(/(\r\n|\n|\r)/gm);
                for (var i = 0; i < textArray.length; i++) {
                    if (textArray[i].length > 1) {
                        var elementArray = textArray[i].split(separator);
                        elementArray.splice(elementArray.length - 1, 1);
                        result.push(elementArray);
                    }
                }
                callback(result);
            });
        }
        readData("timeSeriesData.csv", ",", function (result) {
            result.reverse();
            result.pop();
            result.reverse();
            let time = new Array();
            let normalkraft = new Array();
            result.forEach(element => {
                time.push(parseFloat(element[1]));
                normalkraft.push(parseFloat(element[3]));
			});
			console.log(result)


			var multiple_dataset = [
	{ sales:"20", sales2:"35", sales3:"55", year:"02" },
	{ sales:"40", sales2:"24", sales3:"40", year:"03" },
	{ sales:"44", sales2:"20", sales3:"27", year:"04" },
	{ sales:"23", sales2:"50", sales3:"43", year:"05" },
	{ sales:"21", sales2:"36", sales3:"31", year:"06" },
	{ sales:"50", sales2:"40", sales3:"56", year:"07" },
	{ sales:"30", sales2:"65", sales3:"75", year:"08" },
	{ sales:"90", sales2:"62", sales3:"55", year:"09" },
	{ sales:"55", sales2:"40", sales3:"60", year:"10" },
	{ sales:"72", sales2:"45", sales3:"54", year:"11" }
];

webix.ui({
  view:"chart",
  width:600,
  height:250,
  type:"line",
  
  xAxis:{
    template:"'#year#"
  },
  yAxis:{
    start:0,
    step:10,
    end: 100
  },
  legend:{
    //values:[{text:"Company A",color:"#1293f8"},{text:"Company B",color:"#66cc00"}],
    align:"right",
    valign:"middle",
    layout:"y",
    width: 100,
    margin: 8
  },
  series:[
    {
      value:"#sales#",
      item:{
        borderColor: "#1293f8",
        color: "#ffffff"
      },
      line:{
        color:"#1293f8",
        width:3
      },
      tooltip:{
        template:"#sales#"
      }
    },
    {
      value:"#sales2#",
      item:{
        borderColor: "#66cc00",
        color: "#ffffff"
      },
      line:{
        color:"#66cc00",
        width:3
      },
      tooltip:{
        template:"#sales2#"
      }
    }
  ],
  data:  normalkraft
});



		})
   </script>
 </body>
</html>