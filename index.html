<!doctype html>
<html lang="en">

<head>
    <title>Chart.js Example</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <h3 class="title is-1">
        Chart.js Time Series Data Example
    </h3>
    <canvas id="myGraph" padding=15px;></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script>
        var lineCtx = document.getElementById("myGraph").getContext("2d");
        function readData(fileName, separator, callback) {
            $.get(fileName, function (fileContent) {
                var result = [];
                var textArray = fileContent.split(/(\r\n|\n|\r)/gm);
                for (var i = 0; i < textArray.length; i++) {
                    if (textArray[i].length > 1) {
                        var elementArray = textArray[i].split(separator);
                        elementArray.splice(elementArray.length - 1, 1);
                        result.push(elementArray);
                    }
                }
                callback(result);
            });
        }
        readData("timeSeriesData.csv", ",", function (result) {
            result.reverse();
            result.pop();
            result.reverse();
            let time = new Array();
            let normalkraft = new Array();
            let reibkraft = new Array();
            result.forEach(element => {
                time.push(element[1]);
                normalkraft.push(element[3]);
                reibkraft.push(element[4]);
            });

            var myGraph = new Chart(lineCtx, {
                type: 'timeseries',
                data: {
                    labels: time,
                    datasets: [{
                        label: 'Normalkraft', // Name the series
                        data: normalkraft, // Specify the data values array
                        fill: false,
                        borderColor: '#2196f3', // Add custom color border (Line)
                        backgroundColor: '#2196f3', // Add custom color background (Points and Fill)
                        borderWidth: 0.1 // Specify bar border width
                    },
                    {
                        label: 'reibkraft', // Name the series
                        data: reibkraft, // Specify the data values array
                        fill: false,
                        borderColor: '#2196f3', // Add custom color border (Line)
                        backgroundColor: '#2196f3', // Add custom color background (Points and Fill)
                        borderWidth: 0.1 // Specify bar border width
                    }
                ]
                },
                options: {
                    responsive: true, // Instruct chart js to respond nicely.
                    maintainAspectRatio: false, // Add to prevent default behaviour of full-width/height 
                }
            });
        })

    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>