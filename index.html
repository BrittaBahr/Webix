<!doctype html>
<html lang="en">

<head>
    <title>Highchart example</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://code.angularjs.org/1.2.21/angular.js"></script>
    <script src="https://code.highcharts.com/highcharts.src.js"></script>
</head>

<body>
    <div id="container" style="height: 400px; width: 500px"></div>
    <script>
        function asyncCsv2Array(fileName, separator, callback) {
            // Datei einlesen (benötigt JQuery oder Zepto (bei AppFurnace automatisch enthalten))
            $.get(fileName, function (fileContent) {
                // Array für Ergebnis
                var result = [];
                // Eingelesenen Text in ein Array splitten (\r\n, \n und\r sind die Trennzeichen für verschiedene Betriebssysteme wie Windows, Linux, OS X)
                var textArray = fileContent.split(/(\r\n|\n|\r)/gm);
                // Über alle Zeilen iterieren
                for (var i = 0; i < textArray.length; i++) {
                    // Nur wenn die Größe einer Zeile > 1 ist (sonst ist in der Zeile nur das Zeilenumbruch Zeichen drin)
                    if (textArray[i].length > 1) {
                        // Zeile am Trennzeichen trennen
                        var elementArray = textArray[i].split(separator);
                        // überflüssiges Element am Ende entfernen - nur notwendig wenn die Zeile mit dem Separator endet
                        elementArray.splice(elementArray.length - 1, 1);
                        // Array der Zeile dem Ergebnis hinzufügen
                        result.push(elementArray);
                    }
                }
                callback(result);
            });
        }


        asyncCsv2Array("timeSeriesData.csv", ",", function (result) {
            result.reverse();
            result.pop();
            result.reverse();
            let time = new Array();
            let normalkraft = new Array();
            let reibkraft = new Array();
            result.forEach(element => {
                time.push(element[1]);
                normalkraft.push(element[3]);
                reibkraft.push(element[4]);
            });

            var chart = new Highcharts.Chart({
                title: {
					text: 'Highchart Example Time Series Data'
				},
            chart: {
                renderTo: 'container',
                marginBottom: 80
            },
            xAxis: {
                categories: time,
                labels: {
                    rotation: 90
                }
            },

            series: [{
                name: "Normalkraft",
                data: normalkraft
            }]
        });
        });
    </script>
</body>

</html>